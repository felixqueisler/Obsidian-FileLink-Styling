// Define a map of file type groups and their icon URLs (placeholders)
$file-type-groups: (
/* Icons encoded with https://yoksel.github.io/url-encoder/ */
  "code-files": (
	"extensions": ("html", "css", "js", "php", "py", "java", "cpp", "c", "cs", "rb", "go", "lua", "swift", "ts", "json", "xml", "scss", "sass", "sh", "asm", "sql", "r", "pl", "h", "hpp"),
	"icon": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' viewBox='0 0 24 24'%3E%3Crect width='14.5' height='14.5' x='4.75' y='4.75' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' rx='2'/%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M8.75 10.75L11.25 13L8.75 15.25'/%3E%3C/svg%3E"
  ),
  "pdf-files": (
	  "extensions": ("pdf"),
	  "icon": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M7.75 19.25H16.25C17.3546 19.25 18.25 18.3546 18.25 17.25V9L14 4.75H7.75C6.64543 4.75 5.75 5.64543 5.75 6.75V17.25C5.75 18.3546 6.64543 19.25 7.75 19.25Z'/%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M18 9.25H13.75V5'/%3E%3C/svg%3E"
  ),
  "video-files": (
	"extensions": ("mp4", "avi", "mov", "wmv", "mkv", "flv", "mpeg", "mpg", "webm", "vob", "m4v", "3gp", "3g2", "f4v"),
	"icon": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M4.75 6.75C4.75 5.64543 5.64543 4.75 6.75 4.75H17.25C18.3546 4.75 19.25 5.64543 19.25 6.75V17.25C19.25 18.3546 18.3546 19.25 17.25 19.25H6.75C5.64543 19.25 4.75 18.3546 4.75 17.25V6.75Z'/%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M15.25 12L9.75 8.75V15.25L15.25 12Z'/%3E%3C/svg%3E"
  ),
  "audio-files": (
	"extensions": ("mp3", "wav", "aac", "ogg", "flac", "alac", "wma", "m4a", "ape", "mid", "midi", "mpa", "ogg", "aif"),
	"icon": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M19.25 16V12.25C19.25 8.24594 16.0041 5 12 5V5C7.99594 5 4.75 8.24594 4.75 12.25V16'%3E%3C/path%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M4.75 15.45C4.75 13.9588 5.95883 12.75 7.45 12.75V12.75C8.44411 12.75 9.25 13.5559 9.25 14.55V17.45C9.25 18.4441 8.44411 19.25 7.45 19.25V19.25C5.95883 19.25 4.75 18.0412 4.75 16.55V15.45Z'%3E%3C/path%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M14.75 14.55C14.75 13.5559 15.5559 12.75 16.55 12.75V12.75C18.0412 12.75 19.25 13.9588 19.25 15.45V16.55C19.25 18.0412 18.0412 19.25 16.55 19.25V19.25C15.5559 19.25 14.75 18.4441 14.75 17.45V14.55Z'%3E%3C/path%3E%3C/svg%3E%0A"
  ),
  "image-files": (
	"extensions": ("jpg", "jpeg", "png", "gif", "bmp", "tiff", "svg", "psd", "webp", "ico", "heic", "raw", "arw", "svgz", "nef", "orf"),
	"icon": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M4.75 16L7.49619 12.5067C8.2749 11.5161 9.76453 11.4837 10.5856 12.4395L13 15.25M10.915 12.823C11.9522 11.5037 13.3973 9.63455 13.4914 9.51294C13.4947 9.50859 13.4979 9.50448 13.5013 9.50017C14.2815 8.51598 15.7663 8.48581 16.5856 9.43947L19 12.25M6.75 19.25H17.25C18.3546 19.25 19.25 18.3546 19.25 17.25V6.75C19.25 5.64543 18.3546 4.75 17.25 4.75H6.75C5.64543 4.75 4.75 5.64543 4.75 6.75V17.25C4.75 18.3546 5.64543 19.25 6.75 19.25Z'/%3E%3C/svg%3E"
  ),
  "archive-files": (
	"extensions": ("zip", "rar", "7z", "tar", "gz", "bz2", "xz", "tar.gz", "jar", "iso", "cab", "rar5", "dmg"),
	"icon": "data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M17.25 4.75H6.75C5.64543 4.75 4.75 5.64543 4.75 6.75V17.25C4.75 18.3546 5.64543 19.25 6.75 19.25H17.25C18.3546 19.25 19.25 18.3546 19.25 17.25V6.75C19.25 5.64543 18.3546 4.75 17.25 4.75Z' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M12 15.25V13.75' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M12 11.25V10.75' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M12 8.25V7.75' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M12 5.25V4.75' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E"
  ),
  "word-files": (
	"extensions": ("doc", "docx", "odt", "rtf", "docm", "wps"),
	"icon": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M7.75 19.25H16.25C17.3546 19.25 18.25 18.3546 18.25 17.25V9L14 4.75H7.75C6.64543 4.75 5.75 5.64543 5.75 6.75V17.25C5.75 18.3546 6.64543 19.25 7.75 19.25Z'/%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M18 9.25H13.75V5'/%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M9.75 15.25H14.25'/%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M9.75 12.25H14.25'/%3E%3C/svg%3E"
  ),
  "spreadsheet-files": (
	"extensions": ("xls", "xlsx", "ods", "csv", "xlsm", "xlt", "xlm"),
	"icon": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M5.75 19.2502H18.25C18.8023 19.2502 19.25 18.8025 19.25 18.2502V5.75C19.25 5.19772 18.8023 4.75 18.25 4.75H5.75C5.19772 4.75 4.75 5.19772 4.75 5.75V18.2502C4.75 18.8025 5.19772 19.2502 5.75 19.2502Z'/%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M19.25 9.25L5.25 9.25'/%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M19.25 14.75L5.25 14.75'/%3E%3C/svg%3E"
  ),
  "slide-files": (
	"extensions": ("ppt", "pptx", "odp", "pps", "pptm"),
	"icon": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M18.25 7.75H5.75V15.25C5.75 16.3546 6.64543 17.25 7.75 17.25H16.25C17.3546 17.25 18.25 16.3546 18.25 15.25V7.75Z'%3E%3C/path%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M18.25 4.75H5.75C5.19772 4.75 4.75 5.19772 4.75 5.75V6.75C4.75 7.30228 5.19772 7.75 5.75 7.75H18.25C18.8023 7.75 19.25 7.30228 19.25 6.75V5.75C19.25 5.19772 18.8023 4.75 18.25 4.75Z'%3E%3C/path%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M12 17.5V19.25'%3E%3C/path%3E%3C/svg%3E%0A"
  ),
  "design-files": (
	"extensions": ("psd", "ai", "sketch", "eps", "indd", "xcf", "dwg", "svg", "fig", "cdr", "afdesign", "stp", "3ds", "iges", "max"),
	"icon": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M4.75 6.75C4.75 5.64543 5.64543 4.75 6.75 4.75H17.25C18.3546 4.75 19.25 5.64543 19.25 6.75V17.25C19.25 18.3546 18.3546 19.25 17.25 19.25H6.75C5.64543 19.25 4.75 18.3546 4.75 17.25V6.75Z'/%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M9.75 8.75V19'/%3E%3Cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M5 8.25H19'/%3E%3C/svg%3E"
  )
);

$all-filetype-selectors: "";
// Specific icon styles for each file type
@each $group, $data in $file-type-groups {
  $extensions: map-get($data, "extensions");
  $icon-data: map-get($data, "icon");
  $group-filetype-selectors: "";

  @each $ext in $extensions {
	$all-filetype-selectors: "#{$all-filetype-selectors}[href$='.#{$ext}'], ";
	$group-filetype-selectors: "#{$group-filetype-selectors}[href$='.#{$ext}'], ";
  }
  
  $group-filetype-selectors: unquote(str-slice($group-filetype-selectors, 1, -3));
  a.internal-link:is(#{$group-filetype-selectors}):before {
  	mask-image: url("#{$icon-data}");
  }
}

$all-filetype-selectors: unquote(str-slice($all-filetype-selectors, 1, -3));
a.internal-link:is(#{$all-filetype-selectors}) {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding: 5px;
	padding-left: 7px;
	padding-right: 11px;
	margin-top: var(--size-2-3);
	margin-right: var(--size-2-3);
	border-radius: var(--radius-s);
	transition: background-color 0.1s ease, color 0.1s ease;
	text-decoration: none !important;
	background-color: var(--background-primary-alt);
	
	&:hover {
		background-color: var(--background-modifier-hover);
	}
	
	&:before {
		--iconic-size: 24px;
		content: '';
		color: inherit;
		background-color: currentColor;
		mask-position: center;
		mask-size: var(--iconic-size);
		mask-repeat: no-repeat;
		display: inline-block;
		width: var(--iconic-size);
		height: var(--iconic-size);
		margin-right: var(--size-4-1);
	}
}
